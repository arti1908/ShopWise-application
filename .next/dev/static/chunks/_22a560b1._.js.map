{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/beltinaa/ShopWise-application/components/search-bar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Search } from \"lucide-react\"\nimport { useRouter } from \"next/navigation\"\n\nexport function SearchBar({\n  initialQuery = \"\",\n  onSearch,\n}: {\n  initialQuery?: string\n  onSearch?: (q: string) => void\n}) {\n  const [query, setQuery] = useState(initialQuery)\n  const router = useRouter()\n\n  const handleSearch = () => {\n    const trimmed = query.trim()\n    if (!trimmed) return\n    if (onSearch) {\n      onSearch(trimmed)\n      return\n    }\n    // fallback: navigate to the search page\n    router.push(`/search?q=${encodeURIComponent(trimmed)}`)\n  }\n\n  return (\n    <div className=\"w-full max-w-2xl mx-auto\">\n      <div className=\"relative flex items-center\">\n        <input\n          type=\"text\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && handleSearch()}\n          placeholder=\"Search for products...\"\n          className=\"w-full px-6 py-4 pr-32 text-lg border border-border rounded-xl bg-card text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n        />\n        <button\n          onClick={handleSearch}\n          className=\"absolute right-2 px-6 py-2.5 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium flex items-center gap-2\"\n        >\n          <Search className=\"w-5 h-5\" />\n          <span>Search</span>\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS,UAAU,EACxB,eAAe,EAAE,EACjB,QAAQ,EAIT;;IACC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,eAAe;QACnB,MAAM,UAAU,MAAM,IAAI;QAC1B,IAAI,CAAC,SAAS;QACd,IAAI,UAAU;YACZ,SAAS;YACT;QACF;QACA,wCAAwC;QACxC,OAAO,IAAI,CAAC,CAAC,UAAU,EAAE,mBAAmB,UAAU;IACxD;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBACC,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBACxC,WAAW,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW;oBACvC,aAAY;oBACZ,WAAU;;;;;;8BAEZ,6LAAC;oBACC,SAAS;oBACT,WAAU;;sCAEV,6LAAC,mNAAM;4BAAC,WAAU;;;;;;sCAClB,6LAAC;sCAAK;;;;;;;;;;;;;;;;;;;;;;;AAKhB;GA1CgB;;QAQC,kJAAS;;;KARV"}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/beltinaa/ShopWise-application/components/product-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport { X, MapPin, Store, TrendingDown } from \"lucide-react\"\nimport Image from \"next/image\"\n\ninterface Product {\n  id: number\n  name: string\n  price: number\n  imageUrl: string\n  description: string\n  retailer: string\n  distance: number\n  originalPrice?: number\n}\n\ninterface PriceComparison {\n  retailer: string\n  price: number\n  distance: number\n  inStock: boolean\n}\n\nconst demoPriceComparisons: PriceComparison[] = [\n  { retailer: \"Tech Store Tirana\", price: 89900, distance: 2.5, inStock: true },\n  { retailer: \"Mobile World\", price: 91500, distance: 3.8, inStock: true },\n  { retailer: \"Computer Center\", price: 92900, distance: 1.2, inStock: false },\n  { retailer: \"iStore Albania\", price: 90500, distance: 2.1, inStock: true },\n]\n\nexport function ProductModal({\n  product,\n  isOpen,\n  onClose,\n}: {\n  product: Product\n  isOpen: boolean\n  onClose: () => void\n}) {\n  if (!isOpen) return null\n\n  const discount = product.originalPrice\n    ? Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100)\n    : 0\n\n  return (\n    <div\n      onClick={onClose}\n      className=\"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm flex items-center justify-center p-4\"\n    >\n      <div\n        onClick={(e) => e.stopPropagation()}\n        className=\"bg-card rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-border\"\n      >\n        <div className=\"sticky top-0 bg-card border-b border-border p-4 flex items-center justify-between z-10\">\n          <h2 className=\"text-xl font-bold text-foreground\">{product.name}</h2>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 rounded-full hover:bg-muted flex items-center justify-center transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        <div className=\"p-6 space-y-6\">\n          <div className=\"grid md:grid-cols-2 gap-6\">\n            <div className=\"relative aspect-square rounded-xl overflow-hidden bg-muted\">\n              {discount > 0 && (\n                <div className=\"absolute top-3 left-3 z-10 bg-destructive text-destructive-foreground px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1\">\n                  <TrendingDown className=\"w-4 h-4\" />\n                  {discount}% OFF\n                </div>\n              )}\n              <Image src={product.imageUrl || \"/placeholder.svg\"} alt={product.name} fill className=\"object-cover\" />\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <h3 className=\"text-sm font-medium text-muted-foreground mb-2\">Description</h3>\n                <p className=\"text-foreground\">{product.description}</p>\n              </div>\n\n              <div className=\"flex items-center gap-2 text-sm\">\n                <Store className=\"w-4 h-4 text-muted-foreground\" />\n                <span className=\"text-foreground font-medium\">{product.retailer}</span>\n              </div>\n\n              <div className=\"flex items-center gap-2 text-sm\">\n                <MapPin className=\"w-4 h-4 text-muted-foreground\" />\n                <span className=\"text-foreground\">{product.distance} km away</span>\n              </div>\n\n              <div className=\"pt-4 border-t border-border\">\n                <div className=\"text-3xl font-bold text-foreground\">{product.price.toLocaleString()} ALL</div>\n                {product.originalPrice && (\n                  <div className=\"text-lg text-muted-foreground line-through\">\n                    {product.originalPrice.toLocaleString()} ALL\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"border-t border-border pt-6\">\n            <h3 className=\"text-lg font-bold text-foreground mb-4\">Price Comparison</h3>\n            <div className=\"space-y-3\">\n              {demoPriceComparisons.map((comparison, index) => (\n                <div\n                  key={index}\n                  className=\"flex items-center justify-between p-4 rounded-lg border border-border bg-muted/30\"\n                >\n                  <div className=\"flex-1\">\n                    <div className=\"font-semibold text-foreground\">{comparison.retailer}</div>\n                    <div className=\"text-sm text-muted-foreground flex items-center gap-2 mt-1\">\n                      <MapPin className=\"w-3 h-3\" />\n                      {comparison.distance} km\n                      {!comparison.inStock && <span className=\"text-destructive ml-2\">Out of Stock</span>}\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-xl font-bold text-foreground\">{comparison.price.toLocaleString()} ALL</div>\n                    {index === 0 && <div className=\"text-xs text-primary font-medium\">Lowest Price</div>}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 478, "column": 0}, "map": {"version":3,"sources":["file:///Users/beltinaa/ShopWise-application/components/product-card.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useEffect, useState } from \"react\"\nimport Image from \"next/image\"\nimport { MapPin, Heart, ShoppingCart, TrendingDown } from \"lucide-react\"\nimport { ProductModal } from \"./product-modal\"\n\ninterface Product {\n  id: number\n  name: string\n  price: number\n  imageUrl: string\n  description: string\n  retailer: string\n  distance: number\n  originalPrice?: number\n  category?: string\n  inStock?: boolean\n}\n\nfunction readJSON<T>(key: string): T | null {\n  if (typeof window === \"undefined\") return null\n  try {\n    const raw = localStorage.getItem(key)\n    if (!raw) return null\n    return JSON.parse(raw) as T\n  } catch {\n    return null\n  }\n}\n\nfunction writeJSON(key: string, value: any) {\n  if (typeof window === \"undefined\") return\n  try {\n    localStorage.setItem(key, JSON.stringify(value))\n  } catch {\n    // ignore\n  }\n}\n\nconst CART_KEY = \"shopwise_cart\"\nconst WISHLIST_KEY = \"shopwise_wishlist\"\n\nexport function ProductCard({ product }: { product: Product }) {\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  const [isWishlisted, setIsWishlisted] = useState(false)\n  const [isAddingCart, setIsAddingCart] = useState(false)\n  const [isAddingWishlist, setIsAddingWishlist] = useState(false)\n\n  useEffect(() => {\n    // initialize wishlist state from localStorage\n    const wishlist = readJSON<Product[]>(WISHLIST_KEY) || []\n    const found = wishlist.find((p) => p.id === product.id)\n    setIsWishlisted(!!found)\n  }, [product.id])\n\n  const discount = product.originalPrice\n    ? Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100)\n    : 0\n\n  const handleAddToCart = (e: React.MouseEvent) => {\n    e.stopPropagation()\n    if (typeof window === \"undefined\") return\n\n    setIsAddingCart(true)\n\n    const raw = readJSON<{ id: number; quantity: number; product: Product }[]>(CART_KEY) || []\n    // try to find existing product in cart\n    const existing = raw.find((it) => it.product?.id === product.id)\n    if (existing) {\n      existing.quantity = (existing.quantity || 1) + 1\n    } else {\n      raw.push({ id: Date.now(), quantity: 1, product })\n    }\n    writeJSON(CART_KEY, raw)\n\n    // animation timeout\n    setTimeout(() => {\n      setIsAddingCart(false)\n    }, 800)\n  }\n\n  const handleToggleWishlist = (e: React.MouseEvent) => {\n    e.stopPropagation()\n    if (typeof window === \"undefined\") return\n\n    setIsAddingWishlist(true)\n\n    const raw = readJSON<Product[]>(WISHLIST_KEY) || []\n    const exists = raw.find((p) => p.id === product.id)\n    let next\n    if (exists) {\n      next = raw.filter((p) => p.id !== product.id)\n      setIsWishlisted(false)\n    } else {\n      next = [product, ...raw]\n      setIsWishlisted(true)\n    }\n    writeJSON(WISHLIST_KEY, next)\n\n    setTimeout(() => {\n      setIsAddingWishlist(false)\n    }, 800)\n  }\n\n  return (\n    <>\n      <div\n        onClick={() => setIsModalOpen(true)}\n        className=\"bg-card rounded-xl overflow-hidden border border-border hover:shadow-lg transition-all cursor-pointer group relative\"\n      >\n        <div className=\"relative aspect-square overflow-hidden bg-muted\">\n          {discount > 0 && (\n            <div className=\"absolute top-3 left-3 z-10 bg-destructive text-destructive-foreground px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1\">\n              <TrendingDown className=\"w-4 h-4\" />\n              {discount}% OFF\n            </div>\n          )}\n          <button\n            onClick={handleToggleWishlist}\n            aria-pressed={isWishlisted}\n            aria-label={isWishlisted ? \"Remove from wishlist\" : \"Add to wishlist\"}\n            className=\"absolute top-3 right-3 z-10 w-9 h-9 rounded-full bg-background/80 backdrop-blur-sm flex items-center justify-center hover:bg-background transition-colors\"\n          >\n            <Heart\n              className={`w-5 h-5 ${isWishlisted ? \"fill-destructive text-destructive\" : \"text-muted-foreground\"}`}\n            />\n          </button>\n\n          <Image\n            src={product.imageUrl || \"/placeholder.svg\"}\n            alt={product.name}\n            fill\n            className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\n          />\n\n          {/* Animation indicators */}\n          {isAddingCart && (\n            <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n              <div className=\"bg-primary/90 text-primary-foreground px-4 py-2 rounded-full shadow-lg transform animate-add\">Added to cart</div>\n            </div>\n          )}\n\n          {isAddingWishlist && (\n            <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n              <div className=\"bg-destructive/90 text-destructive-foreground px-4 py-2 rounded-full shadow-lg transform animate-add\">Wishlist</div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"p-4 space-y-3\">\n          <h3 className=\"font-semibold text-lg text-foreground line-clamp-1\">{product.name}</h3>\n          <p className=\"text-sm text-muted-foreground line-clamp-2\">{product.description}</p>\n\n          <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n            <MapPin className=\"w-4 h-4\" />\n            <span>\n              {product.retailer} • {product.distance} km\n            </span>\n          </div>\n\n          <div className=\"flex items-end justify-between pt-2\">\n            <div>\n              <div className=\"text-2xl font-bold text-foreground\">{product.price.toLocaleString()} ALL</div>\n              {product.originalPrice && (\n                <div className=\"text-sm text-muted-foreground line-through\">\n                  {product.originalPrice.toLocaleString()} ALL\n                </div>\n              )}\n            </div>\n          </div>\n\n          <button\n            onClick={handleAddToCart}\n            className=\"w-full py-2.5 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium flex items-center justify-center gap-2\"\n          >\n            <ShoppingCart className=\"w-4 h-4\" />\n            Add to Cart\n          </button>\n        </div>\n      </div>\n\n      <ProductModal product={product} isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} />\n\n      <style jsx>{`\n        @keyframes addAnim {\n          0% { transform: translateY(0) scale(0.9); opacity: 0 }\n          20% { opacity: 1; transform: translateY(-6px) scale(1) }\n          100% { opacity: 0; transform: translateY(-40px) scale(0.8) }\n        }\n        .animate-add { animation: addAnim 700ms ease-in-out forwards }\n      `}</style>\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 819, "column": 0}, "map": {"version":3,"sources":["file:///Users/beltinaa/ShopWise-application/app/search/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useSearchParams, useRouter } from 'next/navigation'\nimport { SearchBar } from '@/components/search-bar'\nimport { ProductCard } from '@/components/product-card'\nimport { ProductModal } from '@/components/product-modal'\n\ntype Product = {\n  id: number\n  name: string\n  price: number\n  imageUrl: string\n  description: string\n  retailer: string\n  distance: number\n  originalPrice?: number\n  category?: string\n  inStock?: boolean\n}\n\nexport default function SearchPage() {\n  const searchParams = useSearchParams()\n  const router = useRouter()\n  const q = searchParams.get('q') || ''\n  const [query, setQuery] = useState(q)\n  const [products, setProducts] = useState<Product[]>([])\n  const [loading, setLoading] = useState(false)\n  const [selected, setSelected] = useState<Product | null>(null)\n\n  useEffect(() => {\n    setQuery(q)\n    fetchResults(q)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [q])\n\n  async function fetchResults(qParam: string) {\n    setLoading(true)\n    try {\n      const url = `/api/search?q=${encodeURIComponent(qParam)}`\n      const res = await fetch(url)\n      const data = await res.json()\n      setProducts(data.results || [])\n    } catch (e) {\n      setProducts([])\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  function onSearch(newQuery: string) {\n    // update URL to /search?q=...\n    router.push(`/search?q=${encodeURIComponent(newQuery)}`)\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"max-w-3xl mx-auto\">\n          <SearchBar />\n        </div>\n\n        <div className=\"mt-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">Search results{query ? ` for \"${query}\"` : ''}</h2>\n\n          {loading && <div className=\"text-sm text-muted-foreground\">Loading results…</div>}\n\n          {!loading && products.length === 0 && <div className=\"text-sm text-muted-foreground\">No results found.</div>}\n\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-4\">\n            {products.map((p) => (\n              <div key={p.id} onClick={() => setSelected(p)}>\n                <ProductCard product={p} />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {selected && <ProductModal product={selected} isOpen={!!selected} onClose={() => setSelected(null)} />}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAqBe,SAAS;;IACtB,MAAM,eAAe,IAAA,wJAAe;IACpC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,IAAI,aAAa,GAAG,CAAC,QAAQ;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAiB;IAEzD,IAAA,0KAAS;gCAAC;YACR,SAAS;YACT,aAAa;QACb,uDAAuD;QACzD;+BAAG;QAAC;KAAE;IAEN,eAAe,aAAa,MAAc;QACxC,WAAW;QACX,IAAI;YACF,MAAM,MAAM,CAAC,cAAc,EAAE,mBAAmB,SAAS;YACzD,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,YAAY,KAAK,OAAO,IAAI,EAAE;QAChC,EAAE,OAAO,GAAG;YACV,YAAY,EAAE;QAChB,SAAU;YACR,WAAW;QACb;IACF;IAEA,SAAS,SAAS,QAAgB;QAChC,8BAA8B;QAC9B,OAAO,IAAI,CAAC,CAAC,UAAU,EAAE,mBAAmB,WAAW;IACzD;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,4IAAS;;;;;;;;;;kCAGZ,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;;oCAA0B;oCAAe,QAAQ,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,GAAG;;;;;;;4BAElF,yBAAW,6LAAC;gCAAI,WAAU;0CAAgC;;;;;;4BAE1D,CAAC,WAAW,SAAS,MAAM,KAAK,mBAAK,6LAAC;gCAAI,WAAU;0CAAgC;;;;;;0CAErF,6LAAC;gCAAI,WAAU;0CACZ,SAAS,GAAG,CAAC,CAAC,kBACb,6LAAC;wCAAe,SAAS,IAAM,YAAY;kDACzC,cAAA,6LAAC,gJAAW;4CAAC,SAAS;;;;;;uCADd,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;YAQrB,0BAAY,6LAAC,kJAAY;gBAAC,SAAS;gBAAU,QAAQ,CAAC,CAAC;gBAAU,SAAS,IAAM,YAAY;;;;;;;;;;;;AAGnG;GA7DwB;;QACD,wJAAe;QACrB,kJAAS;;;KAFF"}}]
}